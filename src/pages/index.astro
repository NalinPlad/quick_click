---
import "../styles/global.css";
---

<html lang="en" class="bg-blue-200">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Quick Click</title>
	</head>
	<body class="flex flex-col items-center p-8 gap-8 cursor-crosshair">
		<h1 class="text-indigo-600 text-5xl font-serif font-bold p-4">Quick <span class="text-blue-600">Click</span></h1>
		<div class="w-64">
			<label for="level-select" class="block text-gray-700 font-bold mb-2 text-center">Select Level</label>
			<input id="level-select" type="range" min="1" max="4" value="2" class="w-full h-2 bg-indigo-600 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:border-4 [&::-webkit-slider-thumb]:border-indigo-600 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:w-6 [&::-moz-range-thumb]:h-6 [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-4 [&::-moz-range-thumb]:border-indigo-600 [&::-moz-range-thumb]:rounded-full">
			<div class="flex justify-between text-sm text-gray-700 px-1 mt-2 font-bold">
				<span>3x3</span>
				<span>4x4</span>
				<span>5x5</span>
				<span>6x6</span>
			</div>
		</div>
		<div id="game" class="w-full lg:w-1/2 mx-auto flex justify-evenly items-center">
			<div class="w-[75px] h-[75px] rounded-lg border-8 border-indigo-300 bg-white hover:border-indigo-600 transition-colors duration-200"></div>
			<div id="grid-container" class="w-[300px] h-[300px] bg-white rounded-lg shadow-lg p-4">
				<div id="grid" class="w-full h-full grid grid-cols-4 gap-1"></div>
			</div>
		</div>


		<!-- do not delete, stops tailwind from tree shaking -->
	<!-- <div class="hidden grid-cols-3 grid-cols-4 grid-cols-5 grid-cols-6"></div> -->
	</body>
</html>

<script>
const slider = document.getElementById('level-select');
const grid = document.getElementById('grid');

function createGrid(size) {
	grid.innerHTML = '';
	grid.className = `w-full h-full grid gap-1 grid-cols-${size}`;
	const totalCells = size * size;
	for (let i = 0; i < totalCells; i++) {
		const cell = document.createElement('div');
		cell.className = 'bg-indigo-100 rounded hover:bg-indigo-200 transition-colors duration-200';
		grid.appendChild(cell);
	}
}

createGrid(4);
slider.addEventListener('input', (e) => {
	const size = parseInt(e.target.value) + 2;
	createGrid(size);
});
</script>